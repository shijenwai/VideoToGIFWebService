# Video to GIF Telegram Bot

å°‡ Telegram å½±ç‰‡è½‰æ›ç‚º GIF çš„æ©Ÿå™¨äººï¼Œéƒ¨ç½²æ–¼ Renderã€‚

## åŠŸèƒ½ç‰¹è‰²

- ğŸ“¹ æ”¯æ´ MP4ã€MOV ç­‰å¸¸è¦‹å½±ç‰‡æ ¼å¼
- ğŸ¨ èª¿è‰²ç›¤å„ªåŒ– (palettegen + paletteuse) ç”¢ç”Ÿé«˜å“è³ªå°æª”æ¡ˆ
- âš¡ æ™ºæ…§é…ç½®é¸æ“‡ï¼šæ ¹æ“šå½±ç‰‡æ™‚é•·è‡ªå‹•é¸æ“‡æœ€ä½³è½‰æª”åƒæ•¸
- ğŸ“¦ è‡ªå‹•æ§åˆ¶è¼¸å‡ºæª”æ¡ˆå¤§å° â‰¤ 20MB
- ğŸ”„ æ”¯æ´åŒæ™‚è™•ç†å¤šå€‹è«‹æ±‚ (concurrent updates)
- ğŸ§¹ è‡ªå‹•æ¸…ç†æš«å­˜æª”æ¡ˆ

## ä½¿ç”¨æ–¹å¼

1. åœ¨ Telegram æœå°‹ Bot
2. è¼¸å…¥ `/start` æŸ¥çœ‹ä½¿ç”¨èªªæ˜
3. ç›´æ¥å‚³é€å½±ç‰‡çµ¦ Bot
4. ç­‰å¾…è½‰æ›å®Œæˆï¼Œæ¥æ”¶ GIF æª”æ¡ˆ

## é™åˆ¶

- è¼¸å…¥å½±ç‰‡ï¼šæœ€å¤§ 20MBï¼ˆTelegram Bot API é™åˆ¶ï¼‰
- è¼¸å‡º GIFï¼šæœ€å¤§ 20MB
- å»ºè­°å½±ç‰‡é•·åº¦ï¼š15-30 ç§’å…§æ•ˆæœæœ€ä½³

## éƒ¨ç½² (Render)

### ç’°å¢ƒè®Šæ•¸

åœ¨ Render Dashboard â†’ Environment è¨­å®šï¼š

| è®Šæ•¸åç¨± | èªªæ˜ |
|---------|------|
| `TELEGRAM_TOKEN` | Telegram Bot Token (å¾ @BotFather å–å¾—) |

### æ¶æ§‹èªªæ˜

æ¡ç”¨ Hybrid Mode é©æ‡‰ Render Free Tierï¼š
- **ä¸»åŸ·è¡Œç·’**ï¼š`run_polling()` è™•ç† Telegram Bot
- **èƒŒæ™¯åŸ·è¡Œç·’**ï¼šHTTP Server ç›£è½ `$PORT`ï¼Œå›æ‡‰ Health Check

## æŠ€è¡“ç´°ç¯€

### è½‰æª”æµç¨‹

1. ä½¿ç”¨ FFprobe åˆ†æå½±ç‰‡æ™‚é•·
2. æ ¹æ“šæ™‚é•· Ã— æª”æ¡ˆå¤§å°è¨ˆç®—è¤‡é›œåº¦ï¼Œé¸æ“‡èµ·å§‹é…ç½®
3. å…©éšæ®µ FFmpeg è½‰æª”ï¼š
   - éšæ®µ 1ï¼š`palettegen` ç”¢ç”Ÿæœ€ä½³ 256 è‰²èª¿è‰²ç›¤
   - éšæ®µ 2ï¼š`paletteuse` ä½¿ç”¨èª¿è‰²ç›¤è¼¸å‡º GIF
4. è‹¥è¶…é 20MBï¼Œè‡ªå‹•é™ä½å“è³ªé‡è©¦

### å“è³ªé…ç½®

| é…ç½® | FPS | å¯¬åº¦ | é©ç”¨æƒ…å¢ƒ |
|-----|-----|------|---------|
| 0 | 15 | 480px | çŸ­å½±ç‰‡ (â‰¤15ç§’) |
| 1 | 12 | 400px | ä¸­çŸ­å½±ç‰‡ (15-30ç§’) |
| 2 | 10 | 320px | ä¸­ç­‰å½±ç‰‡ (30-60ç§’) |
| 3 | 8 | 280px | é•·å½±ç‰‡ (60-90ç§’) |
| 4 | 6 | 240px | è¶…é•·å½±ç‰‡ (>90ç§’) |

## æœ¬åœ°é–‹ç™¼

```bash
# å®‰è£ä¾è³´
pip install -r requirements.txt

# è¨­å®šç’°å¢ƒè®Šæ•¸
export TELEGRAM_TOKEN=your_token_here

# åŸ·è¡Œ
python app.py
```

## ä¾è³´

- Python 3.10+
- python-telegram-bot >= 20.0
- FFmpeg (ç³»çµ±å®‰è£)
